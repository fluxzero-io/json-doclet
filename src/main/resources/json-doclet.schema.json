{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://fluxzero.io/json-doclet/schema.json",
  "title": "JSON Doclet Output",
  "description": "Schema describing the JSON artifacts generated by JSON Doclet (package/type files and directory indexes).",
  "oneOf": [
    { "$ref": "#/$defs/TypeDocumentation" },
    { "$ref": "#/$defs/PackageDocumentation" },
    { "$ref": "#/$defs/DirectoryIndex" }
  ],
  "$defs": {
    "AnnotationDocumentation": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "annotationType": { "type": "string" },
        "values": {
          "type": "object",
          "additionalProperties": { "type": "string" }
        }
      },
      "required": ["annotationType", "values"]
    },
    "MethodParameter": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "name": { "type": "string" },
        "type": { "type": "string" },
        "varArgs": { "type": "boolean" },
        "annotations": {
          "type": "array",
          "items": { "$ref": "#/$defs/AnnotationDocumentation" }
        }
      },
      "required": ["name", "type", "varArgs", "annotations"]
    },
    "FieldDocumentation": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "name": { "type": "string" },
        "qualifiedName": { "type": "string" },
        "type": { "type": "string" },
        "modifiers": {
          "type": "array",
          "items": { "type": "string" }
        },
        "annotations": {
          "type": "array",
          "items": { "$ref": "#/$defs/AnnotationDocumentation" }
        },
        "documentation": { "type": ["string", "null"] },
        "constantValue": {
          "type": ["string", "number", "integer", "boolean", "null"]
        }
      },
      "required": ["name", "qualifiedName", "type", "modifiers", "annotations", "documentation", "constantValue"]
    },
    "ConstructorDocumentation": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "name": { "type": "string" },
        "qualifiedName": { "type": "string" },
        "modifiers": {
          "type": "array",
          "items": { "type": "string" }
        },
        "annotations": {
          "type": "array",
          "items": { "$ref": "#/$defs/AnnotationDocumentation" }
        },
        "typeParameters": {
          "type": "array",
          "items": { "type": "string" }
        },
        "parameters": {
          "type": "array",
          "items": { "$ref": "#/$defs/MethodParameter" }
        },
        "thrownTypes": {
          "type": "array",
          "items": { "type": "string" }
        },
        "varArgs": { "type": "boolean" },
        "documentation": { "type": ["string", "null"] }
      },
      "required": [
        "name",
        "qualifiedName",
        "modifiers",
        "annotations",
        "typeParameters",
        "parameters",
        "thrownTypes",
        "varArgs",
        "documentation"
      ]
    },
    "MethodDocumentation": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "name": { "type": "string" },
        "qualifiedName": { "type": "string" },
        "returnType": { "type": "string" },
        "modifiers": {
          "type": "array",
          "items": { "type": "string" }
        },
        "annotations": {
          "type": "array",
          "items": { "$ref": "#/$defs/AnnotationDocumentation" }
        },
        "typeParameters": {
          "type": "array",
          "items": { "type": "string" }
        },
        "parameters": {
          "type": "array",
          "items": { "$ref": "#/$defs/MethodParameter" }
        },
        "thrownTypes": {
          "type": "array",
          "items": { "type": "string" }
        },
        "varArgs": { "type": "boolean" },
        "documentation": { "type": ["string", "null"] }
      },
      "required": [
        "name",
        "qualifiedName",
        "returnType",
        "modifiers",
        "annotations",
        "typeParameters",
        "parameters",
        "thrownTypes",
        "varArgs",
        "documentation"
      ]
    },
    "EnumConstantDocumentation": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "name": { "type": "string" },
        "qualifiedName": { "type": "string" },
        "annotations": {
          "type": "array",
          "items": { "$ref": "#/$defs/AnnotationDocumentation" }
        },
        "documentation": { "type": ["string", "null"] }
      },
      "required": ["name", "qualifiedName", "annotations", "documentation"]
    },
    "RecordComponentDocumentation": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "name": { "type": "string" },
        "type": { "type": "string" },
        "annotations": {
          "type": "array",
          "items": { "$ref": "#/$defs/AnnotationDocumentation" }
        },
        "documentation": { "type": ["string", "null"] }
      },
      "required": ["name", "type", "annotations", "documentation"]
    },
    "NestedTypeDocumentation": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "name": { "type": "string" },
        "qualifiedName": { "type": "string" },
        "kind": { "type": "string" },
        "modifiers": {
          "type": "array",
          "items": { "type": "string" }
        },
        "annotations": {
          "type": "array",
          "items": { "$ref": "#/$defs/AnnotationDocumentation" }
        }
      },
      "required": ["name", "qualifiedName", "kind", "modifiers", "annotations"]
    },
    "PackageDocumentation": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "name": { "type": "string" },
        "qualifiedName": { "type": "string" },
        "documentation": { "type": ["string", "null"] }
      },
      "required": ["name", "qualifiedName", "documentation"]
    },
    "DirectoryIndex": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "package": {
          "$ref": "#/$defs/PackageDocumentation"
        },
        "files": {
          "type": "array",
          "items": { "$ref": "#/$defs/IndexFileEntry" }
        },
        "subdirectories": {
          "type": "array",
          "items": { "$ref": "#/$defs/SubdirectoryEntry" }
        }
      },
      "required": ["files", "subdirectories"]
    },
    "IndexFileEntry": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "file": { "type": "string" },
        "name": { "type": "string" },
        "qualifiedName": { "type": "string" },
        "kind": { "type": "string" }
      },
      "required": ["file", "name", "qualifiedName", "kind"]
    },
    "SubdirectoryEntry": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "name": { "type": "string" },
        "path": { "type": "string" }
      },
      "required": ["name", "path"]
    },
    "TypeDocumentation": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "name": { "type": "string" },
        "qualifiedName": { "type": "string" },
        "packageName": { "type": "string" },
        "kind": { "type": "string" },
        "modifiers": {
          "type": "array",
          "items": { "type": "string" }
        },
        "annotations": {
          "type": "array",
          "items": { "$ref": "#/$defs/AnnotationDocumentation" }
        },
        "documentation": { "type": ["string", "null"] },
        "typeParameters": {
          "type": "array",
          "items": { "type": "string" }
        },
        "superClass": { "type": ["string", "null"] },
        "interfaces": {
          "type": "array",
          "items": { "type": "string" }
        },
        "fields": {
          "type": "array",
          "items": { "$ref": "#/$defs/FieldDocumentation" }
        },
        "constructors": {
          "type": "array",
          "items": { "$ref": "#/$defs/ConstructorDocumentation" }
        },
        "methods": {
          "type": "array",
          "items": { "$ref": "#/$defs/MethodDocumentation" }
        },
        "enumConstants": {
          "type": "array",
          "items": { "$ref": "#/$defs/EnumConstantDocumentation" }
        },
        "recordComponents": {
          "type": "array",
          "items": { "$ref": "#/$defs/RecordComponentDocumentation" }
        },
        "nestedTypes": {
          "type": "array",
          "items": { "$ref": "#/$defs/NestedTypeDocumentation" }
        }
      },
      "required": [
        "name",
        "qualifiedName",
        "packageName",
        "kind",
        "modifiers",
        "annotations",
        "documentation",
        "typeParameters",
        "superClass",
        "interfaces",
        "fields",
        "constructors",
        "methods",
        "enumConstants",
        "recordComponents",
        "nestedTypes"
      ]
    }
  }
}
